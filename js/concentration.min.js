(()=>{function n(a,b){const d=document.createElement("div");d.id="modal-box";const c=document.createElement("div");c.id="inner-modal-box";const f=document.createElement("span");f.id="modal-message";c.appendChild(f);d.appendChild(c);f.innerText=a;document.getElementsByTagName("html")[0].appendChild(d);g(b).then(()=>d.remove())}function g(a){return new Promise(b=>setTimeout(b,a))}function E(a,b,d){var c=new Date;c.setTime(c.getTime()+864E5*d);document.cookie=a+"="+b+";expires="+c.toUTCString()+";path=/;SameSite=Lax"}
let h=0,F=0,p=!0,q=!1,y=!1,l=0,r=!1,z="";const G=document.getElementById("bestScore"),k=Number(function(a){a+="=";for(var b=decodeURIComponent(document.cookie).split(";"),d=0;d<b.length;d++){for(var c=b[d];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(a))return c.substring(a.length,c.length)}return""}("concbestScore")),H=(()=>{const a=[];for(let b=1;21>b;b++)a[b]="cat"+b+".png";return a})(),t=(()=>{const a=[];for(var b=0;20>b;b++)a.push(b+1),a.push(b+1);for(b=a.length-1;0<b;b--){const d=Math.floor(Math.random()*
(b+1));[a[b],a[d]]=[a[d],a[b]]}return a})(),I=()=>{const a=document.querySelectorAll(".flip-card-flip");l++;if(t[a[0].id]===t[a[1].id]){if(g(50).then(()=>{Array.from(a[0].childNodes).find(b=>b.classList.contains("flip-card-back")).firstChild.classList.add("match-rotate");Array.from(a[1].childNodes).find(b=>b.classList.contains("flip-card-back")).firstChild.classList.add("match-rotate");Array.from(a[0].childNodes).find(b=>b.classList.contains("flip-card-front")).classList.remove("box-shadow");Array.from(a[1].childNodes).find(b=>
b.classList.contains("flip-card-front")).classList.remove("box-shadow")}),g(475).then(()=>{a[0].remove();a[1].remove()}),20===++F){let b=20>k?l:l<k?l:k;y=!0;g(700).then(()=>{n("Kaiya and Pepper!",1E3);g(1E3).then(()=>{g(3E3).then(()=>location.reload());n("Best Score: "+b,3E3)})});E("concbestScore",b,7)}}else a[0].classList.remove("flip-card-flip"),a[1].classList.remove("flip-card-flip"),g(800).then(()=>{a[0].classList.add("grow");a[1].classList.add("grow")});p=!0;h=0},D=()=>{var a=document.getElementById("color-select");
a=a.options[a.selectedIndex].value;const b=document.querySelectorAll(".flip-card-front");"disco"===a?(r=!0,A(b)):(r=!1,B(b),C(b,a))},B=a=>{for(let b of a)b.classList.remove("grey-pattern"),b.classList.remove("blue-pattern"),b.classList.remove("purple-pattern"),b.classList.remove("orange-pattern")},C=(a,b)=>{for(let d of a)d.classList.add(b+"-pattern")},A=a=>{if(r){B(a);const b=["grey","blue","purple","orange"];let d;do d=b[Math.floor(4*Math.random())];while(d===z);z=d;C(a,d);g(400).then(()=>A(a))}},
J=()=>{let a;if(window.matchMedia("(min-width: 801px)").matches){var b=5;a=8}else b=10,a=4;for(let c=0;c<b;c++){const f=document.createElement("div");document.getElementById("cards").appendChild(f);f.classList.add("row");f.draggable=!1;f.g=function(){return!1};f.onmousedown=function(){return!1};for(let m=0;m<a;m++){const u=document.createElement("div"),e=document.createElement("div"),v=document.createElement("div"),w=document.createElement("div"),x=document.createElement("img");u.classList.add("flip-card");
e.classList.add("flip-card-inner");v.classList.add("flip-card-front");v.classList.add("box-shadow");w.classList.add("flip-card-back");u.appendChild(e);e.appendChild(v);e.appendChild(w);e.classList.add("hidden");f.appendChild(u);e.id=c*a+m;x.src="images/"+H[t[c*a+m]];x.classList.add("cat-image");w.appendChild(x);e.addEventListener("click",()=>{if(p&&q&&!y)if(e.classList.contains("flip-card-flip"))e.classList.remove("flip-card-flip"),e.classList.add("grow"),h--;else if(0===h||1===h)e.classList.add("flip-card-flip"),
e.classList.remove("grow"),h++,2===h&&(p=!1,g(1250).then(I))})}}D();const d=document.querySelectorAll(".flip-card-inner");b=d.length;for(let c=0;c<b;c++)setTimeout(()=>d[c].classList.remove("hidden"),57*c),d[c].classList.add("grow"),d[c].classList.add("hover-cursor")};(()=>{document.getElementById("startBtn").addEventListener("click",()=>{q||(q=!0,document.getElementById("startBtn").classList.remove("startButtonFlash"),document.getElementById("main-header").classList.remove("header-before-start"),
document.getElementById("main-header").classList.add("header-after-start"),document.getElementById("menu").classList.remove("menu-before-start"),document.getElementById("menu").classList.add("menu-after-start"),document.getElementById("menu").classList.add("display-flex"),document.getElementById("bestScoreContainer").remove(),n("Dealing Cards!",2555),g(150).then(()=>{J()}))});document.getElementById("color-select").addEventListener("change",D);G.textContent=20>k?"No Best Score":k+" Pairs Flipped"})()})();
